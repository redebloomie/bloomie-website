<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bloomie</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.3/css/swiper.css"
    />

    <link rel="stylesheet" href="../../public/style.css" />
    <link rel="shortcut icon" href="../assets/bluBloomie.png" />

    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script
      src="https://kit.fontawesome.com/fec6e5d711.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <style>
      .aviso-invisivel {
        display: none;
        color: red;
        font-size: 14px;
      }
    </style>
  </head>

  <body>
    <nav class="navbar-p">
      <ul class="navbar-nav">
        <li class="nav-item" style="background-color: transparent">
          <img src="../assets/bluBloomie.png" alt="" width="40px" />
        </li>

        <li class="nav-item">
          <a href="../../public/index.html#home" class="nav-link">
            <i class="ph-bold ph-house" style="color: #fff"></i>
            <span class="link-text" style="color: #fff">Home</span>
          </a>
        </li>

        <li class="nav-item">
          <a href="../../public/index.html#sobre" class="nav-link">
            <i class="ph-bold ph-info" style="color: #fff"></i>
            <span class="link-text" style="color: #fff">Sobre</span>
          </a>
        </li>

        <li class="nav-item">
          <a href="../../public/index.html#login" class="nav-link">
            <i class="ph-bold ph-user" style="color: #fff"></i>
            <span class="link-text" style="color: #fff">Login</span>
          </a>
        </li>

        <li class="nav-item">
          <a href="../../public/index.html#parcerias" class="nav-link">
            <i class="ph-bold ph-users" style="color: #fff"></i>
            <span class="link-text" style="color: #fff">Parcerias</span>
          </a>
        </li>
      </ul>
    </nav>

    <div class="container-menu">
      <nav class="navigation" role="navigation">
        <div id="menuToggle">
          <input type="checkbox" />
          <span></span>
          <span></span>
          <span></span>
          <ul id="menu">
            <a
              href="../../public/index.html#home"
              style="display: flex; flex-direction: row; align-items: center"
            >
              <i
                class="ph-bold ph-house"
                style="font-size: 30px; margin-right: 10px"
              ></i>
              <li>Home</li>
            </a>
            <a
              href="../../public/index.html#sobre"
              style="display: flex; flex-direction: row; align-items: center"
            >
              <i
                class="ph-bold ph-info"
                style="font-size: 30px; margin-right: 10px"
              ></i>
              <li>Sobre</li>
            </a>
            <a
              href="../../public/index.html#login"
              style="display: flex; flex-direction: row; align-items: center"
            >
              <i
                class="ph-bold ph-user"
                style="font-size: 30px; margin-right: 10px"
              ></i>
              <li>Login</li>
            </a>
            <a
              href="../../public/index.html#parcerias"
              style="display: flex; flex-direction: row; align-items: center"
            >
              <i
                class="ph-bold ph-users"
                style="font-size: 30px; margin-right: 10px"
              ></i>
              <li>Parcerias</li>
            </a>
          </ul>
        </div>
      </nav>
    </div>

    <section id="cadastro" class="d-flex justify-content-center">
      <div class="col-12 col-sm-8 col-md-6 col-lg-4 p-2 mt-5 txtT">
        <div class="form-cadastro">
          <h2 class="text-center" style="font-weight: 700">Vamos começar?</h2>
          <h3 class="text-center" style="font-weight: 400">
            Acesse oportunidades incríveis!<br /><span style="font-weight: 500"
              >Crie sua conta</span
            >
            e <span style="font-weight: 500">junte-se à Bloomie.</span>
          </h3>
          <form
            class="row g-3 form-cadastro-usuario"
            method="post"
            action="../PHP/cadastro.php"
          >
            <div class="col-md-6">
              <input
                type="text"
                class="form-control rounded-4 cb"
                name="nome"
                id="nome"
                placeholder="Nome"
              />
            </div>
            <div class="col-md-6">
              <input
                type="text"
                class="form-control rounded-4 cb"
                name="sobrenome"
                id="sobrenome"
                placeholder="Sobrenome"
              />
            </div>
            <div class="col-12">
              <input
                type="email"
                class="form-control rounded-4 cb"
                name="email"
                id="email"
                placeholder="Email"
              />
            </div>
            <div class="col-sm-6 col-md-6">
              <input
                type="text"
                class="form-control rounded-4 cb"
                name="usuario"
                id="usuario"
                placeholder="Nome de usuário"
              />
            </div>
            <div class="col-sm-6 col-md-6">
              <span class="d-flex mb-0 position-relative">
                <input
                  type="password"
                  class="form-control rounded-4 cb"
                  name="senha"
                  id="senha"
                  placeholder="Senha"
                  style="color: #1185e3"
                />
                <i
                  class="ph-bold ph-eye-slash"
                  id="togglePassword"
                  style="
                    position: absolute;
                    top: 50%;
                    transform: translateY(-50%);
                    right: 10px;
                  "
                ></i>
              </span>
              <div
                id="senha-validacao"
                style="
                  display: flex;
                  flex-direction: column;
                  gap: 0;
                  width: max-content;
                  margin-top: 1vw;
                "
              >
                <p
                  id="tamanho-aviso"
                  class="aviso-invisivel"
                  style="margin: 0; font-size: 13px"
                >
                  A senha deve ter pelo menos 8 caracteres.
                </p>
                <p
                  id="maiuscula-aviso"
                  class="aviso-invisivel"
                  style="margin: 0; font-size: 13px"
                >
                  A senha deve conter pelo menos uma letra maiúscula.
                </p>
                <p
                  id="minuscula-aviso"
                  class="aviso-invisivel"
                  style="margin: 0; font-size: 13px"
                >
                  A senha deve conter pelo menos uma letra minúscula.
                </p>
                <p
                  id="especial-aviso"
                  class="aviso-invisivel"
                  style="margin: 0; font-size: 13px"
                >
                  A senha deve conter pelo menos um caractere especial.
                </p>
              </div>
            </div>

            <p style="margin-bottom: 5px">Data de nascimento</p>
            <div class="col-12 col-sm-4 col-md-4 col-sm-4">
              <select
                class="form-select align-text-bottom rounded-4 cb"
                id="day"
                name="dia"
                style="color: #1185e3"
              ></select>
            </div>
            <div class="col-12 col-sm-4 col-md-4 col-sm-4">
              <select
                class="form-select align-text-bottom rounded-4 cb"
                id="month"
                name="mes"
                style="color: #1185e3"
              ></select>
            </div>
            <div class="col-12 col-sm-4 col-md-4 col-sm-4">
              <select
                class="form-select align-text-bottom rounded-4 cb"
                id="year"
                name="ano"
                style="color: #1185e3"
              ></select>
            </div>

            <p style="margin-bottom: -5px">Estado e Cidade</p>
            <div class="col-md-6 col-sm-6 estado_cidade">
              <select
                id="uf"
                name="estado"
                class="form-select rounded-4 cb"
                style="color: #1185e3"
              >
                <option>Estado</option>
              </select>
            </div>
            <div class="col-md-6 col-sm-6 estado_cidade">
              <select
                id="cidade"
                name="cidade"
                class="form-select rounded-4 cb"
                style="color: #1185e3"
              >
                <option>Cidade</option>
              </select>
            </div>

            <div class="col-md-12 text-center btn-lg">
              <p style="color: #5ab5ff" class="texto-termos">
                Ao clicar em "Criar Conta", você aceita nosso Termos, Política
                de Privacidade e Política de Cookies.
                <a href="" style="font-weight: 500; color: #4fb0ff"
                  >Saiba mais</a
                >
              </p>
              <input
                type="submit"
                name="submit"
                class="btn btn-primary col-10 col-sm-8 col-md-8 col-lg-10"
                value="Criar conta"
                style="
                  border-radius: 20px;

                  font-size: 18px;
                  font-weight: 500;
                  margin-bottom: 1vw;
                  text-align: center;
                  margin-top: 1vw;
                  background-color: #1185e3;
                  border: #1185e3;
                  color: #fff;
                "
              />
              <p>
                Já tem conta?
                <a
                  href="../../public/index.html#login"
                  style="font-weight: 500; color: #5ab5ff"
                  >Faça login</a
                >
              </p>
            </div>
          </form>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const yearSelect = document.getElementById("year");
        const monthSelect = document.getElementById("month");
        const daySelect = document.getElementById("day");

        const months = [
          "Janeiro",
          "Fevereiro",
          "Março",
          "Abril",
          "Maio",
          "Junho",
          "Julho",
          "Agosto",
          "Setembro",
          "Outubro",
          "Novembro",
          "Dezembro",
        ];

        //Months are always the same
        (function populateMonths() {
          for (let i = 0; i < months.length; i++) {
            const option = document.createElement("option");
            option.textContent = months[i];
            monthSelect.appendChild(option);
          }
          monthSelect.value = "Janeiro";
        })();

        let previousDay;

        function populateDays(month) {
          //Delete all of the children of the day dropdown
          //if they do exist
          while (daySelect.firstChild) {
            daySelect.removeChild(daySelect.firstChild);
          }
          //Holds the number of days in the month
          let dayNum;
          //Get the current year
          let year = parseInt(yearSelect.value);

          if (
            month === "Janeiro" ||
            month === "Março" ||
            month === "Maio" ||
            month === "Julho" ||
            month === "Agosto" ||
            month === "Outubro" ||
            month === "Dezembro"
          ) {
            dayNum = 31;
          } else if (
            month === "Abril" ||
            month === "Junho" ||
            month === "Setembro" ||
            month === "Novembro"
          ) {
            dayNum = 30;
          } else {
            //Check for a leap year
            if (new Date(year, 1, 29).getMonth() === 1) {
              dayNum = 29;
            } else {
              dayNum = 28;
            }
          }
          //Insert the correct days into the day <select>
          for (let i = 1; i <= dayNum; i++) {
            const option = document.createElement("option");
            option.textContent = i;
            daySelect.appendChild(option);
          }
          if (previousDay) {
            daySelect.value = previousDay;
            if (daySelect.value === "") {
              daySelect.value = previousDay - 1;
            }
            if (daySelect.value === "") {
              daySelect.value = previousDay - 2;
            }
            if (daySelect.value === "") {
              daySelect.value = previousDay - 3;
            }
          }
        }

        function populateYears() {
          //Get the current year as a number
          let year = new Date().getFullYear();
          //Make the previous 100 years be an option
          for (let i = 0; i < 101; i++) {
            const option = document.createElement("option");
            option.textContent = year - i;
            yearSelect.appendChild(option);
          }
        }

        populateDays(monthSelect.value);
        populateYears();

        yearSelect.onchange = function () {
          populateDays(monthSelect.value);
        };

        monthSelect.onchange = function () {
          populateDays(monthSelect.value);
        };

        daySelect.onchange = function () {
          previousDay = daySelect.value;
        };
      });

      // VALIDAÇÃO DE SENHAS

      const senhaInput = document.getElementById("senha");
      const tamanhoAviso = document.getElementById("tamanho-aviso");
      const maiusculaAviso = document.getElementById("maiuscula-aviso");
      const minusculaAviso = document.getElementById("minuscula-aviso");
      const especialAviso = document.getElementById("especial-aviso");

      senhaInput.addEventListener("input", () => {
        const senha = senhaInput.value;

        tamanhoAviso.classList.toggle("aviso-invisivel", senha.length >= 8);
        maiusculaAviso.classList.toggle("aviso-invisivel", /[A-Z]/.test(senha));
        minusculaAviso.classList.toggle("aviso-invisivel", /[a-z]/.test(senha));
        especialAviso.classList.toggle(
          "aviso-invisivel",
          /[!@#$%^&*()_+{}\[\]:;<>,.?~\\-]/.test(senha)
        );
      });
    </script>

    <!-- Bootstrap JavaScript Libraries -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
      integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
      crossorigin="anonymous"
    ></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.3/js/swiper.js"></script>
    <script src="../../public/script.js"></script>
  </body>
</html>
